<p-toast position="center"></p-toast>

<div class="title">
  <h1>Anunciar veículo</h1>
</div>

<div class="car-form">
  <form [formGroup]="carForm" (submit)="carFormSubmit()">
    <mat-form-field>
      <mat-label>Modelo</mat-label>
      <input type="text" matInput placeholder="Modelo do carro" required formControlName="modeloCarro" required>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Marca</mat-label>
      <input type="text" matInput placeholder="Marca do carro" required formControlName="marcaCarro" required>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Cor</mat-label>
      <input type="text" matInput placeholder="Cor do carro" required formControlName="corCarro" required>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Motor</mat-label>
      <input type="text" matInput placeholder="Motorização" required formControlName="motorCarro" required>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Consumo médio</mat-label>
      <input type="text" matInput placeholder="Consumo médio geral" required formControlName="consumoCarro" required>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Quilometragem</mat-label>
      <input type="text" matInput placeholder="Quilômetros rodados" required formControlName="quilometragemCarro"
      (input)="formatarQuilometragem($event)"
      required>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Imagem</mat-label>
      <input type="text" matInput placeholder="Imagem" required formControlName="imagemCarro" required>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Preço</mat-label>
      <input type="text" matInput placeholder="Preço" required formControlName="precoCarro" required
      (input)="formatarPreco($event)"
      >
    </mat-form-field>

    <mat-form-field>
      <mat-label>Placa</mat-label>
      <input type="text" matInput placeholder="Placa do carro" required formControlName="placaCarro" required>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Ano</mat-label>
      <input type="text" matInput placeholder="Ano do carro" required formControlName="anoCarro" required>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Lançamento</mat-label>
      <input matInput [matDatepicker]="picker" formControlName="anoLancamento" required>
      <mat-hint>MM/DD/YYYY</mat-hint>
      <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker endView="year"></mat-datepicker>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Quantidade</mat-label>
      <input type="text" matInput placeholder="Quandidade a ser vendida" required formControlName="quantidadeDisponivel" required>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Categoria</mat-label>
      <mat-select formControlName="categoriaId" required>
        @for (category of categoriesDatas; track $index) {
          <mat-option [value]="category.categoriaId">{{category.nomeCategoria}}</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Vendedor</mat-label>
      <mat-select formControlName="vendedorId" required>
        @for (seller of sellersDatas; track $index) {
          <mat-option [value]="seller.vendedorId">{{seller.nomeVendedor}}</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Condição</mat-label>
      <mat-select formControlName="estadoCarro" required>
        @for (state of statesOptions; track $index) {
          <mat-option [value]="state.estado">{{state.estado}}</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <div class="button-group">
      <button
      type="submit"
      mat-raised-button
      style="
      margin-right: 2%;
      background-color: #101820;
      color: #fff;"
      >
      <mat-icon>
        payments
      </mat-icon>
      Anunciar veículo
      </button>

      <button
      (click)="closeCarForm()"
      mat-raised-button
      color="warn"
      >
      <mat-icon>
        close
      </mat-icon>
      Voltar
      </button>
    </div>
  </form>

</div>
